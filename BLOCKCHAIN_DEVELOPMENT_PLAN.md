# DeSci 区块链层一周开发计划与分工

## 项目概述
本项目为 DeSci 平台的区块链层实现，基于 Hardhat 开发框架，Solidity 0.8.28 版本，包含用户信息管理、ZK-proof 验证、NFT 代币化和数据集存证四个核心功能模块。

## 技术栈
- **Solidity**: ^0.8.28
- **Hardhat**: ^2.26.1
- **OpenZeppelin**: ^5.0.0
- **Node.js**: 开发环境
- **Ethers.js**: v6 区块链交互库

## 核心合约模块
1. **UserProfile.sol** - 用户档案管理合约
2. **ZKProof.sol** - 零知识证明验证合约
3. **DeSciNFTSimple.sol** - 科研成果 NFT 合约
4. **Dataset.sol** - 数据集存证与访问控制合约
5. **DeSciPlatform.sol** - 平台主合约，协调各模块交互

## 一周开发计划（两人分工）

### 第一天：环境配置与合约部署
**开发者A任务：**
- 确认 Hardhat 环境配置正确
- 修复所有合约测试脚本中的 Ethers v6 兼容性问题
- 确保所有合约能成功编译和部署

**开发者B任务：**
- 完善 UserProfile.sol 合约功能
- 编写 UserProfile 合约的详细测试用例
- 验证用户注册、验证、声誉管理等功能

### 第二天：用户管理模块
**开发者A任务：**
- 完善 Dataset.sol 合约功能
- 实现数据集的注册、版本控制、访问权限管理
- 添加支付访问功能的实现细节

**开发者B任务：**
- 优化 UserProfile.sol 合约
- 添加用户档案更新、查询等高级功能
- 完善用户声誉系统的实现

### 第三天：数据集管理模块
**开发者A任务：**
- 编写 Dataset.sol 合约的详细测试用例
- 测试数据集注册、访问控制、支付机制等功能
- 验证安全特性（重入攻击防护等）

**开发者B任务：**
- 完善 ZKProof.sol 合约功能
- 实现零知识证明的提交、验证和管理
- 添加验证者权限控制机制

### 第四天：零知识证明模块
**开发者A任务：**
- 编写 ZKProof.sol 合约的详细测试用例
- 测试证明提交、验证者管理、证明验证等功能
- 验证合约安全性和访问控制

**开发者B任务：**
- 完善 DeSciNFTSimple.sol 合约功能
- 实现 NFT 的铸造、引用追踪、影响力评分更新
- 添加元数据 URI 管理功能

### 第五天：NFT代币化模块
**开发者A任务：**
- 编写 DeSciNFTSimple.sol 合约的详细测试用例
- 测试 NFT 铸造、引用管理、影响力评分等功能
- 验证 ERC721 标准兼容性

**开发者B任务：**
- 开发 DeSciPlatform.sol 主合约
- 实现科研发布、同行评审、引用管理等核心业务流程
- 添加平台统计数据功能

### 第六天：平台主合约与集成测试
**开发者A任务：**
- 完善 DeSciPlatform.sol 合约功能
- 实现跨合约调用和数据同步机制
- 添加平台治理和访问控制功能

**开发者B任务：**
- 编写 DeSciPlatform.sol 合约的详细测试用例
- 进行集成测试，验证各模块协同工作
- 测试完整的科研发布和评审工作流

### 第七天：优化与文档
**开发者A任务：**
- 进行合约 Gas 优化
- 完善错误处理和事件日志
- 编写合约部署和使用文档

**开发者B任务：**
- 进行安全审计和漏洞检查
- 完善测试覆盖率
- 编写 API 接口文档和前端对接说明

## 协作接口与注意事项
1. **合约地址管理**：所有合约地址变更需及时通知对方
2. **事件定义**：新增事件需在对应合约中定义并通知对方
3. **函数接口**：修改合约函数接口需及时沟通
4. **测试数据**：共享测试数据配置，确保测试一致性
5. **每日同步**：每天结束时进行开发进度同步
6. **代码审查**：关键功能变更需进行代码审查

## 预期成果
- 5个核心智能合约完整实现
- 全面的测试用例覆盖（单元测试+集成测试）
- 通过所有测试，无重大安全漏洞
- 完整的开发文档和API说明
- 可部署的合约和清晰的部署流程
